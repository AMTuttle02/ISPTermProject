<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/3da1a747b2.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="papaparse.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>ISP Term Project</title>
</head>


<body>
    <div id="downloads">
        <a href="ISP Demo.pptx" download="ISP Demo">
            Download Demo PowerPoint
        </a>
        <br><br>
        <a href="TermProjectFinalReport.pdf" download="TermProjectFinalReport">
            Download Final Report PDF
        </a>
    </div>
    
    <img src="question_icon.png" id="questionImg" width="100" height="100" onclick="getHelp()">
<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close" onclick="hideHelp()">&times;</span>
      <h1>Instructions</h1>
      <p>This application is used to generate a 4 tier web app Used for completing forms. 
          First, build a form using the drag and drop editor. You can add questions and a variety of HTML elements. <br><br>

          After you are done building the form, scroll to the bottom of the page and upload a .CSV file per the instructions and download the SQL file. <br><br>

          Next, use the generate application button to build your web app's files. You will be asked if you want to build the application for local host or for a live database.
          If you wish to build the application to be compatible with your database, you will be asked to provide some information about your database so that a connection can
          be established. 
          <br><br>

          <u>If you are using localhost to host this application:</u><br>
          Create a folder in your WAMP directory for this project and move the files to that location.<br>
          Next, go to phpMyAdmin and run the two SQL files (tableMaker.sql and authorizedUsers.sql). This will create the database needed to run the application.<br>
          After that, navigate to the formMaker.html page in your web browser. This will be "localhost/[your wamp folder]/formMaker.html"
          Form there, you can complete the form generated by the web application.
          <br><br>

          <u>If you are using a content management system to host this application:</u><br>
          <mark>NOTE: You must make sure that your database credentials are correct when typing them in. If they are incorrect, the application will not function correctly.</mark><br><br>
          First, run both SQL files (tableMaker.sql and authorizedUsers.sql) in the database that you wish to hold the table of responses.<br><br>
          Next, upload the formMaker.html and index.php files created by this application to your content management system.<br><br>
          After that, you can provide users the link to the webpage and they can complete the form. Their answers will be recorded to your database.
      </p>
    </div>
  
  </div>

    <h1>Web Form Generator</h1>
    <p>Drag and drop items to create your form</p>

    <!-- Button to view the webpage -->
    <button class="check-btn" id="check">
        View Form
        <i class="fas fa-angle-double-right"></i>
    </button>

    <!-- Generate and down load the HTML, PHP, and SQL files -->
    <br>
    <button onclick="builderFunction()" id="genform">
        Generate Application
    </button>
    <br>

    <!-- The draggable list -->
    <ul class="draggable-list" id="draggable-list"></ul>

    <form onsubmit="gotRows(); return false;" name="getUserForm" id="getUserForm" style="visibility: hidden">
        Question title: <input type="text" id="qTitle"> <br>
        Option 1: <input type="text" id="option1"> <br>
        Option 2: <input type="text" id="option2"> <br>
        Option 3: <input type="text" id="option3"> <br>
        Option 4: <input type="text" id="option4"> <br> <br>
        Type of question: <input type="radio" name="formOption" value="radio" required>Radio (one slection) <input type="radio" name="formOption" value="checkbox"> Checkbox (multiple options) <input type="radio" name="formOption" value="select"> Drop Down (one selection)
        <br>
        <input type="submit">
        <button>Cancel</button>
    </form>

    <br>
    <!-- Table displaying the possible attributes -->
    <table>
        <tr>
            <th>Form Elements</th>
            <th>HTML Elements</th>
            <th>Styling</th>
        </tr>
        <!-- Row 1 -->
        <tr>
            <td>
                <button onclick="addFormElm('dropDown')" id="addButton">+</button>
                <br>
                Drop down
                <br>
                <select>
                    <option value="">Yes</option>
                    <option value="">No</option>
                </select>
            </td>

            <td>
                <button onclick="addHTMLelm('header')" id="addButton">+</button>
                <h1>Header</h1>
            </td>

            <td>
                <button onclick="addStyle('</b>')" id="addButton">+</button>
                <br>
                <b>BOLD</b>
            </td>
        </tr>

        <!-- Row 2 -->
        <tr>
            <td>
                <button onclick="addFormElm('button')" id="addButton">+</button>
                <button>Button</button>
            </td>
            <td>
                <button onclick="addHTMLelm('subtit')" id="addButton">+</button>
                <h3>Subtitle</h3>
            </td>
            <td>
                <button onclick="addStyle('</u>')" id="addButton">+</button>
                <u>Underline</u>
            </td>
        </tr>

        <!-- Row 3 -->
        <tr>
            <td>
                <label>
                    <button onclick="addFormElm('check')" id="addButton">+</button>
                    <p>Checkbox</p>
                    <input type="checkbox">
                    Select <br>
                    <input type="checkbox">
                    all <br>
                    <input type="checkbox">
                    that<br>
                    <input type="checkbox">
                    apply
                </label>
            </td>
            <td>
                <button onclick="addHTMLelm('text')" id="addButton">+</button>
                <p>Text</p>
            </td>
            <td>
                <button onclick="addStyle('</i>')" id="addButton">+</button>
                <i>Italics</i>
            </td>
        </tr>

        <!-- Row 4 -->
        <tr>
            <td>
                <button onclick="addFormElm('textbox')" id="addButton">+</button>
                Textbox <br>
                <input type="text" id="TextBox" name="TextBox">
            </td>
            <td>
                <button onclick="addHTMLelm('link')" id="addButton">+</button>
                <a href="url">Link</a>
            </td>
            <td>
                <button onclick='addStyle(`style="color: red; font-weight: bold;"`)' id="addButton">+</button>
                <p style="color: red"><b>Important!</b></p>
            </td>
        </tr>

        <!-- Row 5 -->
        <tr>
            <td>
                <button onclick="addFormElm('radioButtons')" id="addButton">+</button>
                Radio buttons <br>
                <input type="radio" name="gender" value="male"> Choose<br>
                <input type="radio" name="gender" value="female"> An<br>
                <input type="radio" name="gender" value="other"> Option
            </td>
            <td>
                <button onclick="addHTMLelm('image')" id="addButton">+</button>
                Image
            </td>
            <td>
                <button onclick='addStyle(`style="display: inline; border: 2px solid black; padding: 4px;"`)' id="addButton">+</button>
                <p style="border: 2px solid black; padding: 4px;">Outline</p>
            </td>
        </tr>

        <!-- Row 6 -->
        <tr>
            <td>
                <button onclick="addFormElm('datebox')" id="addButton">+</button>
                <label for="start">Date:</label> <br>
                <input type="date" id="start" name="date">
            </td>
            <td>
                <button onclick="addHTMLelm('YTvid')" id="addButton">+</button>
                YouTube Video <br>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/Uw5OLnN7UvM?start=11" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </td>
            <td>
                <button onclick='addStyle(`style="display: inline; background-color: yellow;"`)' id="addButton">+</button>
                <p><mark>Highlight</mark></p>
            </td>
        </tr>

        <!-- Row 7 -->
        <tr>
            <td>
                <button onclick="addFormElm('number')" id="addButton">+</button>
                Number <br>
                <input id="number" type="number">
            </td>
            <td>
                <button onclick="addHTMLelm('break')" id="addButton">+</button>
                Linebreak
            </td>
            <td>
                <button onclick="addStyle('</code>')" id="addButton">+</button>
                <p><code>Code style</code></p>
            </td>
        </tr>
    </table>

    <!-- CSV File Section -->
    <h1>Upload CSV File</h1>
    <h3>Upload a .csv file here for restricting form usage to specified users.</h3>
    <div class="container" style="margin-top: 30px; padding: 50px;">

        <input type="file" id="fileToUpload" class="form-control">

        <button type="button" class="btn btn-info btn-lg" id="btnUploadFile">Upload File</button>

    </div>
    <h3>The file template should be as follows</h3>
    <table>
        <tr>
            <th>
                Username
            </th>
            <th>
                Email
            </th>
        </tr>
        <tr>
            <td>
                Exp123
            </td>
            <td>
                example@example.com
            </td>
        </tr>
    </table>

    <script src="script.js">
    </script>
</body>

<footer>
   &copy Brad Sandorf, Alex Tuttle, Vincent Garbonick 2021
</footer>
</html>